(()=>{"use strict";const e=window.wp.element;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},t.apply(this,arguments)}const l=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,{i18n:{__},components:{Dashicon:o,Button:n,Tooltip:a,Icon:r,TextControl:c,BaseControl:s,useBaseControlProps:i,__experimentalHStack:p},element:{useState:m,useEffect:d}}=wp,u=l=>{let{formData:a,setFormData:r,...d}=l;const{baseControlProps:u,controlProps:h}=i(d),{disabled:w}=u,[E,g]=m(a?.icon?.viewBox||"0 0 16 16"),b=a?.icon.paths||["M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 9.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"];return(0,e.createElement)(s,u,(0,e.createElement)("p",{style:{marginTop:0}},(0,e.createElement)(p,{style:{alignItems:"stretch"}},(0,e.createElement)(c,t({},h,{disabled:w,className:"flex-grow-1",placeholder:__("ViewBox","wca-scrolltop"),value:E,onChange:g})),(0,e.createElement)(n,{disabled:w,style:{height:"initial"},isSecondary:!0,isSmall:!0,onClick:()=>{r({...a,icon:{...a.icon,viewBox:E}})},showTooltip:!0},__("Update SVG viewBox","wca-scrolltop")))),(0,e.createElement)("p",{style:{marginTop:0}},b.map(((l,s)=>(0,e.createElement)("p",{style:{marginTop:0}},(0,e.createElement)(p,{key:s,style:{alignItems:"stretch"}},(0,e.createElement)(c,t({},h,{disabled:w,className:"flex-grow-1",placeholder:__("Path","wca-scrolltop"),value:l,onChange:e=>((e,t)=>{const l=[...b];l[e]=t,r({...a,icon:{...a.icon,paths:l}})})(s,e)})),0!==s&&(0,e.createElement)(n,{disabled:w,style:{height:"initial"},isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const t=[...b];t.splice(e,1),r({...a,icon:{...a.icon,paths:t}})})(s)},(0,e.createElement)(o,{icon:"no"}))))))),(0,e.createElement)(n,{disabled:w,isPrimary:!0,onClick:()=>{const e=[...b,""];r({...a,icon:{...a.icon,paths:e}})}},__("Add Path","wca-scrolltop")))},h=t=>{let{formData:o}=t;const{icon:{viewBox:c="0 0 16 16",paths:s=["M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]}={},scroll:{offset:i=0}={},classes:p=""}=o,[u,h]=m(window.scrollY<i);return d((()=>{const e=()=>{const e=window.scrollY;h(e<i)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[i]),(0,e.createElement)(a,{text:__("Preview","wca-scrolltop")},(0,e.createElement)(n,{className:p,style:function(){let{position:e,style:{padding:t,border:o={},borderRadius:n,opacity:a,width:r,height:c,left:s="initial",right:i="initial",bottom:p=0,backgroundColor:m="transparent",color:d="inherit"}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h={position:"fixed",zIndex:u?-1:5,bottom:p,width:r,height:c,padding:t,color:d,borderRadius:n,backgroundColor:m,opacity:u?0:`${a}%`,left:"left"===e?s:"initial",right:"right"===e?i:"initial",transition:"all .3s ease-in-out"},w={};const E=Object.keys(o),g=["top","left","right","bottom"],b=g.some((e=>E.includes(e)));if(b)for(const e in o){const t=o[e];w={...w,[`border${l(e)}`]:Object.values(t).join(" ")}}else w={border:Object.values(o).join(" ")};return h={...h,...w},h}(o)},(0,e.createElement)(r,{icon:()=>(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:c},s.map((t=>(0,e.createElement)("path",{fill:"currentColor",d:t}))))})))},{i18n:{__:w},hooks:{addFilter:E},components:{Placeholder:g,Card:b,CardHeader:f,CardBody:v,Spinner:C,Button:y,TextControl:S,BaseControl:x,ColorPicker:k,RangeControl:I,DropdownMenu:B,SelectControl:N,ToggleControl:P,ColorIndicator:_,__experimentalHStack:D,__experimentalNumberControl:V,__experimentalBorderBoxControl:z},element:{useState:A}}=wp;E("wecodeart.admin.tabs.plugins","wecodeart/scrolltop/admin/panel",(function(t){return[...t,{name:"wca-scrolltop",title:w("Scroll Top","wca-scrolltop"),render:t=>(0,e.createElement)(O,t)}]}));const O=t=>{const{settings:l,saveSettings:o,isRequesting:n,createNotice:a}=t;if(n||!l)return(0,e.createElement)(g,{icon:(0,e.createElement)(C,null),label:w("Loading","wca-scrolltop"),instructions:w("Please wait, loading settings...","wca-scrolltop")});const r=(e=>{let{scrolltop:t}=e;return t})(l),[c,s]=A(null),[i,p]=A(r),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...i?.style,...e};p({...i,style:t})},d=()=>(s(!1),a("success",w("Settings saved.","wca-scrolltop")));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"grid",style:{"--wca--columns":2}},(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(b,{className:"border shadow-none"},(0,e.createElement)(f,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},w("Design","wca-scrolltop"))),(0,e.createElement)(v,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(u,{formData:i,setFormData:p,label:w("Icon","wca-scrolltop"),help:w("Use simple icons like FontAwesome or Bootstrap. Each icon can have 1 or more path elements.","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(N,{label:w("Position","wca-scrolltop"),value:i?.position,options:[{label:w("Left","wca-scrolltop"),value:"left"},{label:w("Right","wca-scrolltop"),value:"right"}],onChange:e=>p({...i,position:e}),__nextHasNoMarginBottom:!0})),(0,e.createElement)("p",null,(0,e.createElement)(D,null,(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Horizontal Margin","wca-scrolltop"),help:w("Number of pixels for horizontal window distance.","wca-scrolltop"),min:0,value:i?.style?.[i?.position],onChange:e=>m({[i?.position]:parseInt(e)})}),(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Vertical Margin","wca-scrolltop"),help:w("Number of pixels for vertical window distance.","wca-scrolltop"),min:0,value:i?.style?.bottom,onChange:e=>m({bottom:parseInt(e)})}))),(0,e.createElement)("p",null,(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Size","wca-scrolltop"),min:20,value:i?.style?.width,onChange:e=>m({width:parseInt(e),height:parseInt(e)}),help:w("In pixels.","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Padding","wca-scrolltop"),min:0,value:i?.style?.padding,onChange:e=>m({padding:parseInt(e)}),help:w("In pixels.","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(I,{label:w("Opacity","wca-scrolltop"),value:i?.style?.opacity,onChange:e=>m({opacity:parseInt(e)}),min:0,step:5,max:100})),(0,e.createElement)("p",null,(0,e.createElement)(x,{label:w("Colors","wca-scrolltop")},(0,e.createElement)(D,{style:{justifyContent:"flex-start"}},(0,e.createElement)(B,{label:w("Background Color","wca-scrolltop"),icon:(0,e.createElement)(_,{colorValue:i?.style?.backgroundColor}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(k,{color:i?.style?.backgroundColor,onChange:e=>m({backgroundColor:e}),enableAlpha:!0,defaultValue:"#000"}))),(0,e.createElement)(B,{label:w("Icon Color","wca-scrolltop"),icon:(0,e.createElement)(_,{colorValue:i?.style?.color}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(k,{color:i?.style?.color,onChange:e=>m({color:e}),enableAlpha:!0,defaultValue:"#000"})))))),(0,e.createElement)("p",null,(0,e.createElement)(z,{label:w("Border","wca-scrolltop"),value:i?.style?.border,onChange:e=>m({border:e})})),(0,e.createElement)("p",null,(0,e.createElement)(I,{label:w("Radius","wca-scrolltop"),allowReset:!0,value:i?.style?.borderRadius,onChange:e=>m({borderRadius:e}),min:0})),(0,e.createElement)("p",null,(0,e.createElement)(P,{label:w("Hover Styles (soon)","wca-scrolltop"),value:!1,disabled:!0}))))),(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(b,{className:"border shadow-none position-sticky sticky-top h-100"},(0,e.createElement)(f,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},w("Functionality","wca-scrolltop"))),(0,e.createElement)(v,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(N,{label:w("Action","wca-scrolltop"),value:i?.action,options:[{label:"Scroll to Top",value:"top"},{label:"Scroll to Element",value:"element"}],onChange:e=>{"top"===e&&delete i.element,p({...i,action:e})}})),"element"===i?.action&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)(S,{label:w("Element selector","wca-scrolltop"),value:i?.element?.selector,onChange:e=>p({...i,element:{...i.element,selector:e}}),help:w("CSS selector of the element, you are trying to scroll to. Eg: #myDivID, .myDivClass","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Element offset","wca-scrolltop"),value:i?.element?.offset,onChange:e=>p({...i,element:{...i.element,offset:parseInt(e)}}),help:w("Negative value allowed. Use this to precisely set scroll position when you have overlapping elements.","wca-scrolltop")}))),(0,e.createElement)("p",null,(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Scroll offset","wca-scrolltop"),help:w("Number of pixels to be scrolled before the button appears.","wca-scrolltop"),min:0,value:i?.scroll?.offset,onChange:e=>p({...i,scroll:{...i?.scroll,offset:parseInt(e)}})})),(0,e.createElement)("p",null,(0,e.createElement)(V,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Scroll duration","wca-scrolltop"),help:w("Window scroll duration in milliseconds when the button is pressed.","wca-scrolltop"),min:100,disabled:"disabled",value:i?.scroll?.duration,onChange:e=>p({...i,scroll:{...i?.scroll,duration:parseInt(e)}})})),(0,e.createElement)("p",null,(0,e.createElement)(S,{label:w("Class(es)","wca-scrolltop"),value:i?.classes,onChange:e=>p({...i,classes:e}),help:w("You can use utilities like: d-none, d-md-block; and so on.","wca-scrolltop")})))))),(0,e.createElement)(h,{formData:i}),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(y,{className:"button",isPrimary:!0,isLarge:!0,icon:c&&(0,e.createElement)(C,null),onClick:()=>{s(!0),o({scrolltop:i},d)},disabled:c},c?"":w("Save","wecodeart")))}})();