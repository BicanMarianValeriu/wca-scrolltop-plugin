(()=>{"use strict";const e=window.wp.element;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},t.apply(this,arguments)}const l=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,{i18n:{__},components:{Dashicon:o,Button:a,ButtonGroup:n,Tooltip:r,Icon:s,TextControl:c,BaseControl:i,useBaseControlProps:p,__experimentalHStack:m},element:{useState:d,useEffect:u}}=wp,h=[{viewBox:"0 0 16 16",paths:["M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]},{viewBox:"0 0 16 16",paths:["M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 9.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]},{viewBox:"0 0 16 16",paths:["M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1h-2z","M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"]},{viewBox:"0 0 16 16",paths:["M8 10a.5.5 0 0 0 .5-.5V3.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 3.707V9.5a.5.5 0 0 0 .5.5zm-7 2.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"]},{viewBox:"0 0 16 16",paths:["M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"]}],w=l=>{let{formData:r,setFormData:u,...w}=l;const{baseControlProps:E,controlProps:g}=p(w),{disabled:b}=E,{icon:v={}}=r||{},[f,C]=d(v?.viewBox),[y,x]=d(v?.paths);return(0,e.createElement)(i,E,(0,e.createElement)("p",{style:{marginTop:0}},(0,e.createElement)(n,null,h.map((t=>(0,e.createElement)(a,{isPrimary:JSON.stringify(t)===JSON.stringify(v),onClick:()=>(e=>{x(e.paths),C(e.viewBox),u({...r,icon:e})})(t)},(0,e.createElement)(s,{icon:()=>(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t?.viewBox,height:16},t?.paths.map((t=>(0,e.createElement)("path",{fill:"currentColor",d:t}))))})))))),(0,e.createElement)("p",{style:{marginTop:0}},(0,e.createElement)(m,{style:{alignItems:"stretch"}},(0,e.createElement)(c,t({},g,{disabled:b,className:"flex-grow-1",placeholder:__("ViewBox","wca-scrolltop"),value:f,onChange:C})),(0,e.createElement)(a,{disabled:b,style:{height:"initial"},isSecondary:!0,isSmall:!0,onClick:()=>{u({...r,icon:{...r.icon,viewBox:f}})},showTooltip:!0},__("Update SVG viewBox","wca-scrolltop")))),(0,e.createElement)("p",{style:{marginTop:0}},y.map(((l,n)=>(0,e.createElement)("p",{style:{marginTop:0}},(0,e.createElement)(m,{key:n,style:{alignItems:"stretch"}},(0,e.createElement)(c,t({},g,{disabled:b,className:"flex-grow-1",placeholder:__("Path","wca-scrolltop"),value:l,onChange:e=>((e,t)=>{const l=[...y];l[e]=t,x(l),u({...r,icon:{viewBox:f,paths:l}})})(n,e)})),0!==n&&(0,e.createElement)(a,{disabled:b,style:{height:"initial"},isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const t=[...y];t.splice(e,1),x(t),u({...r,icon:{viewBox:f,paths:t}})})(n)},(0,e.createElement)(o,{icon:"no"}))))))),(0,e.createElement)(a,{disabled:b,isPrimary:!0,onClick:()=>{const e=[...y,""];x(e),u({...r,icon:{viewBox:f,paths:e}})}},__("Add Path","wca-scrolltop")))},E=t=>{let{formData:o}=t;const{icon:{viewBox:n="0 0 16 16",paths:c=["M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]}={},scroll:{offset:i=0}={},classes:p=""}=o,[m,h]=d(window.scrollY<i);return u((()=>{const e=()=>{const e=window.scrollY;h(e<i)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[i]),(0,e.createElement)(r,{text:__("Preview","wca-scrolltop")},(0,e.createElement)(a,{className:p,style:function(){let{position:e,style:{padding:t,border:o={},opacity:a,width:n,height:r,left:s="initial",right:c="initial",bottom:i=0,backgroundColor:p="transparent",color:d="inherit"}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={position:"fixed",zIndex:m?-1:5,bottom:i,width:n,height:r,padding:t,color:d,backgroundColor:p,opacity:m?0:`${a}%`,left:"left"===e?s:"initial",right:"right"===e?c:"initial",transition:"all .3s ease-in-out"},h={};const w=Object.keys(o),E=["top","left","right","bottom"],g=E.some((e=>w.includes(e)));if(g)for(const e in o){const t=o[e];h={...h,[`border${l(e)}`]:Object.values(t).join(" ")}}else h={border:Object.values(o).join(" ")};return u={...u,...h},u}(o)},(0,e.createElement)(s,{icon:()=>(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:n},c.map((t=>(0,e.createElement)("path",{fill:"currentColor",d:t}))))})))},{i18n:{__:g},hooks:{addFilter:b},components:{Placeholder:v,Card:f,CardHeader:C,CardBody:y,Spinner:x,Button:S,TextControl:B,BaseControl:k,ColorPicker:V,RangeControl:N,DropdownMenu:I,SelectControl:P,ColorIndicator:z,__experimentalHStack:A,__experimentalNumberControl:L,__experimentalBorderBoxControl:M},element:{useState:_}}=wp;b("wecodeart.admin.tabs.plugins","wecodeart/scrolltop/admin/panel",(function(t){return[...t,{name:"wca-scrolltop",title:g("Scroll Top","wca-scrolltop"),render:t=>(0,e.createElement)(D,t)}]}));const D=t=>{const{settings:l,saveSettings:o,isRequesting:a,createNotice:n}=t;if(a||!l)return(0,e.createElement)(v,{icon:(0,e.createElement)(x,null),label:g("Loading","wca-scrolltop"),instructions:g("Please wait, loading settings...","wca-scrolltop")});const r=(e=>{let{scrolltop:t}=e;return t})(l),[s,c]=_(null),[i,p]=_(r),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...i?.style,...e};p({...i,style:t})},d=()=>(c(!1),n("success",g("Settings saved.","wca-scrolltop")));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"grid",style:{"--wca--columns":2}},(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(f,{className:"border shadow-none"},(0,e.createElement)(C,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},g("Design","wca-scrolltop"))),(0,e.createElement)(y,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(w,{formData:i,setFormData:p,label:g("Icon","wca-scrolltop"),help:g("Use simple icons like FontAwesome or Bootstrap. Each icon can have 1 or more path elements.","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(P,{label:g("Position","wca-scrolltop"),value:i?.position,options:[{label:g("Left","wca-scrolltop"),value:"left"},{label:g("Right","wca-scrolltop"),value:"right"}],onChange:e=>p({...i,position:e}),__nextHasNoMarginBottom:!0})),(0,e.createElement)("p",null,(0,e.createElement)(A,null,(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Horizontal Margin","wca-scrolltop"),help:g("Number of pixels for horizontal window distance.","wca-scrolltop"),min:0,value:i?.style?.[i?.position],onChange:e=>m({[i?.position]:parseInt(e)})}),(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Vertical Margin","wca-scrolltop"),help:g("Number of pixels for vertical window distance.","wca-scrolltop"),min:0,value:i?.style?.bottom,onChange:e=>m({bottom:parseInt(e)})}))),(0,e.createElement)("p",null,(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Size","wca-scrolltop"),min:20,value:i?.style?.width,onChange:e=>m({width:parseInt(e),height:parseInt(e)}),help:g("In pixels.","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Padding","wca-scrolltop"),min:0,value:i?.style?.padding,onChange:e=>m({padding:parseInt(e)}),help:g("In pixels.","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(N,{label:g("Opacity","wca-scrolltop"),value:i?.style?.opacity,onChange:e=>m({opacity:parseInt(e)}),min:0,step:5,max:100})),(0,e.createElement)("p",null,(0,e.createElement)(k,{label:g("Colors","wca-scrolltop")},(0,e.createElement)(A,{style:{justifyContent:"flex-start"}},(0,e.createElement)(I,{label:g("Background Color","wca-scrolltop"),icon:(0,e.createElement)(z,{colorValue:i?.style?.backgroundColor}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(V,{color:i?.style?.backgroundColor,onChange:e=>m({backgroundColor:e}),enableAlpha:!0,defaultValue:"#000"}))),(0,e.createElement)(I,{label:g("Icon Color","wca-scrolltop"),icon:(0,e.createElement)(z,{colorValue:i?.style?.color}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(V,{color:i?.style?.color,onChange:e=>m({color:e}),enableAlpha:!0,defaultValue:"#000"})))))),(0,e.createElement)("p",null,(0,e.createElement)(M,{label:g("Border","wca-scrolltop"),value:i?.style?.border,onChange:e=>m({border:e})})),(0,e.createElement)("p",null,(0,e.createElement)(N,{label:g("Radius","wca-scrolltop"),allowReset:!0,value:i?.style?.border?.radius,onChange:e=>m({border:{...i?.style?.border,radius:e}}),min:0}))))),(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(f,{className:"border shadow-none position-sticky sticky-top h-100"},(0,e.createElement)(C,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},g("Functionality","wca-scrolltop"))),(0,e.createElement)(y,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(P,{label:g("Action","wca-scrolltop"),value:i?.action,options:[{label:"Scroll to Top",value:"top"},{label:"Scroll to Element",value:"element"}],onChange:e=>{"top"===e&&delete i.element,p({...i,action:e})}})),"element"===i?.action&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)(B,{label:g("Element selector","wca-scrolltop"),value:i?.element?.selector,onChange:e=>p({...i,element:{...i.element,selector:e}}),help:g("CSS selector of the element, you are trying to scroll to. Eg: #myDivID, .myDivClass","wca-scrolltop")})),(0,e.createElement)("p",null,(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Element offset","wca-scrolltop"),value:i?.element?.offset,onChange:e=>p({...i,element:{...i.element,offset:parseInt(e)}}),help:g("Negative value allowed. Use this to precisely set scroll position when you have overlapping elements.","wca-scrolltop")}))),(0,e.createElement)("p",null,(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Scroll offset","wca-scrolltop"),help:g("Number of pixels to be scrolled before the button appears.","wca-scrolltop"),min:0,value:i?.scroll?.offset,onChange:e=>p({...i,scroll:{...i?.scroll,offset:parseInt(e)}})})),(0,e.createElement)("p",null,(0,e.createElement)(L,{isShiftStepEnabled:!0,spinControls:"custom",label:g("Scroll duration","wca-scrolltop"),help:g("Window scroll duration in milliseconds when the button is pressed.","wca-scrolltop"),min:100,step:10,value:i?.scroll?.duration,onChange:e=>p({...i,scroll:{...i?.scroll,duration:parseInt(e)}})})),(0,e.createElement)("p",null,(0,e.createElement)(B,{label:g("Class(es)","wca-scrolltop"),value:i?.classes,onChange:e=>p({...i,classes:e}),help:g("You can use utilities like: d-none, d-md-block; and so on.","wca-scrolltop")})))))),(0,e.createElement)(E,{formData:i}),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(S,{className:"button",isPrimary:!0,isLarge:!0,icon:s&&(0,e.createElement)(x,null),onClick:()=>{c(!0),o({scrolltop:i},d)},disabled:s},s?"":g("Save","wecodeart")))}})();